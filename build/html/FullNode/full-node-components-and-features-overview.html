

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Components and Features Overview &mdash; Stratis Academy  documentation</title>
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">
  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Stratis ICO Platform" href="../ICO/ico-introduction.html" />
    <link rel="prev" title="Stratis Full Node" href="full-node-introduction.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Stratis Academy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Blockchain101/blockchain101-introduction.html">     Blockchain 101 Course</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Wallets/wallet-introduction.html">     Wallets</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="full-node-introduction.html">     Full Node</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Components and Features Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#accessing-the-network">Accessing the network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#p2p">P2P</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connection">Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#behaviour-components">Behaviour Components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nbitcoin">NBitcoin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ICO/ico-introduction.html">     ICO Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SmartContracts/smart-contracts-introduction.html">     Smart Contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sidechains/sidechains-introduction.html">     Sidechains</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Stratis Academy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="full-node-introduction.html">Stratis Full Node</a> &raquo;</li>
        
      <li>Components and Features Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/FullNode/full-node-components-and-features-overview.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="components-and-features-overview">
<h1>Components and Features Overview<a class="headerlink" href="#components-and-features-overview" title="Permalink to this headline">¶</a></h1>
<p>The following figure shows the components and features of the Full Node:</p>
<a class="reference internal image-reference" href="../_images/Full-Node-Overview.png"><img alt="Full Node Overview" class="align-center" src="../_images/Full-Node-Overview.png" style="width: 738px;" /></a>
<p>All the components and features are described in the following sections, each of which covers a task that the full node needs to carry out.</p>
<div class="section" id="accessing-the-network">
<h2>Accessing the network<a class="headerlink" href="#accessing-the-network" title="Permalink to this headline">¶</a></h2>
<p>The <em>P2P</em> and <em>Connection</em> components are responsible for getting and maintaining access to other peers on the P2P network.</p>
<p>When a full node is connected to the network, <em>Behaviours</em> respond to messages received from other nodes.</p>
<div class="section" id="p2p">
<h3>P2P<a class="headerlink" href="#p2p" title="Permalink to this headline">¶</a></h3>
<p>The <em>P2P</em> component tries to make the P2P network bigger. As more peers are found, they are added to a local database. This information is kept up-to-date. The decision about which peer to connect to when a choice is available is designed to be unpredictable. This adds an extra element of security.</p>
<p>The mechanism used to grow the P2P network is the Peer Discovery Loop, which asks the peers it discovers about the location of other peers.</p>
<p>The <em>P2P</em> component also needs to represent the located peers. Once it is represented, a peer can, for example, be asked which version of the protocol it is running. Communication with other peers is achieved by sending messages. Behaviour components on the other peers process received messages depending on whether the message is relevant to them.
The <em>P2P</em> component also takes care of message payloads. A payload is a description of a message, which describes how to take a C# object and serialize it for the network. This also works for incoming messages. Once the message has been identified by its message type, it can be changed from a byte stream to a C# object.</p>
<div class="section" id="an-example-of-the-p2p-component-messaging">
<h4>An example of the P2P component messaging<a class="headerlink" href="#an-example-of-the-p2p-component-messaging" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>A peer is located on the network, and an object is created to represent this peer.</li>
<li>An attempt is made to connect to the peer.</li>
<li>The Peer Discovery Loop asks for a “handshake” to be initialized.</li>
<li>After the handshake has been completed a <code class="docutils literal notranslate"><span class="pre">getaddr</span></code> message sent.</li>
<li>The returned <code class="docutils literal notranslate"><span class="pre">addr</span></code> message containing information on known nodes is handled by <em>Peer Address Manager Behaviour</em>.</li>
</ol>
<p>The Stratis network protocol is 98% similar to the Bitcoin network protocol. More information on Bitcoin network protocol is available <a class="reference external" href="https://en.bitcoin.it/wiki/Protocol_documentation#Message_types">here</a>.</p>
</div>
</div>
<div class="section" id="connection">
<h3>Connection<a class="headerlink" href="#connection" title="Permalink to this headline">¶</a></h3>
<p>The <em>Connection</em> component contains a list of the comnnected peers. This component and not <em>P2P</em> is talked to by the higher-level components. This component is also responsible for banning peers and decides who to ban and why. The mechanism for banning the peers is implemented by <em>Peer Banning Behaviour</em>. The <em>Peer Banning Behaviour</em> component does not consume any message; instead, if a message identifies a banned peer, the connection to the banned peer is cut.</p>
</div>
<div class="section" id="behaviour-components">
<h3>Behaviour Components<a class="headerlink" href="#behaviour-components" title="Permalink to this headline">¶</a></h3>
<p>There are numerous behaviour components in the Full Node. For example: <em>Block Puller Behaviour</em>, <em>Chained Header Behaviour</em>, <em>Memory Pool Behaviour</em>, <em>Block Store Behaviour</em>. You can think of the behaviour components as plugins which are responsible for filtering out messages that are not relevant to their related component. For example, <em>Memory Pool Behaviour</em> only cares about messages related to the <em>Memory Pool</em>.</p>
</div>
</div>
<div class="section" id="nbitcoin">
<h2>NBitcoin<a class="headerlink" href="#nbitcoin" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          
        </div>
      </div>
      <footer>
  <div class="footer-pagination">
    
      <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        
          <a href="../ICO/ico-introduction.html" class="btn btn-primary float-right" title="Stratis ICO Platform" accesskey="n" rel="next">Next <span class="fa fa-arrow-right"></span></a>
        
        
          <a href="full-node-introduction.html" class="btn btn-neutral" title="Stratis Full Node" accesskey="p" rel="prev"><span class="fa fa-arrow-left"></span> Previous</a>
        
      </div>
    
  </div>

  <div role="contentinfo" class="footer-copyright">
    <div class="footer-logo-copyright">
      <img src="../_static/img/footer-logo.png" alt="Stratis" class="footer-logo">
      <p>
          &copy; Copyright 2018, Stratis Platform.

      </p>
    </div>

    <div class="footer-links">
      <a class="footer-social-link" href="https://twitter.com/stratisplatform"><i class="fa fa-twitter" aria-hidden="true"></i></a>
      <a class="footer-social-link" href="https://github.com/stratisproject"><i class="fa fa-github-alt" aria-hidden="true"></i></a>

      <p class="footer-legal-links">
        <a href="">Terms &amp; Conditions</a>
        <a href="">Privacy Policy</a>
      </p>
    </div>

    <div style="clear: both;"></div>
  </div> 

</footer>

    </section>
    
  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>